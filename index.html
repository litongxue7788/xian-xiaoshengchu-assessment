<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¥¿å®‰å°å‡åˆæ™ºèƒ½è¯„ä¼°ç³»ç»Ÿ 2025ç‰ˆ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            font-size: 15px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            padding: 50px;
            box-shadow: 0 20px 80px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            font-size: 36px;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }
        
        .subtitle {
            text-align: center;
            color: #718096;
            margin-bottom: 50px;
            font-size: 16px;
            font-weight: 500;
        }
        
        .important-notice {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }
        
        .important-notice h3 {
            color: white;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .important-notice ul {
            list-style: none;
            padding-left: 0;
            line-height: 1.8;
        }
        
        .important-notice li::before {
            content: "âš  ";
            margin-right: 8px;
        }
        
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 50px;
            position: relative;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .step-indicator::before {
            content: '';
            position: absolute;
            top: 25px;
            left: 60px;
            right: 60px;
            height: 4px;
            background: #e2e8f0;
            z-index: 0;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
            flex: 1;
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #e2e8f0;
            color: #a0aec0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 20px;
            margin-bottom: 12px;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .step.active .step-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.15);
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);
        }
        
        .step.completed .step-number {
            background: #48bb78;
            color: white;
        }
        
        .step-label {
            font-size: 15px;
            color: #718096;
            text-align: center;
            font-weight: 500;
        }
        
        .step.active .step-label {
            color: #667eea;
            font-weight: 600;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .dimension-card {
            background: #f7fafc;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 28px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
        }
        
        .dimension-card:hover {
            border-color: #667eea;
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.15);
            transform: translateY(-2px);
        }
        
        .dimension-title {
            font-size: 22px;
            color: #2d3748;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
        }
        
        .dimension-desc {
            color: #718096;
            margin-bottom: 24px;
            font-size: 15px;
            line-height: 1.7;
        }
        
        .score-options {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 14px;
        }
        
        .score-option input[type="radio"] {
            display: none;
        }
        
        .score-label {
            display: block;
            padding: 24px 12px;
            text-align: center;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .score-label:hover {
            border-color: #667eea;
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.2);
        }
        
        .score-option input[type="radio"]:checked + .score-label {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .score-number {
            font-size: 32px;
            font-weight: 700;
            display: block;
            margin-bottom: 10px;
        }
        
        .score-desc {
            font-size: 13px;
            display: block;
            line-height: 1.5;
        }
        
        .info-section {
            background: #f7fafc;
            border-radius: 16px;
            padding: 35px;
            margin-bottom: 28px;
        }
        
        .info-section h3 {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2d3748;
        }
        
        .info-group {
            margin-bottom: 24px;
        }
        
        .info-label {
            display: block;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 15px;
        }
        
        .info-select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s;
            background: white;
        }
        
        .info-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 14px;
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 12px;
            border-radius: 8px;
            transition: all 0.2s;
        }
        
        .checkbox-label:hover {
            background: #edf2f7;
        }
        
        .checkbox-label input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .button-group {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 40px;
        }
        
        .btn {
            padding: 16px 48px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }
        
        .btn-secondary:hover {
            background: #cbd5e0;
            transform: translateY(-2px);
        }
        
        .result-card {
            background: white;
            border-radius: 16px;
            padding: 35px;
            margin-bottom: 30px;
            border: 2px solid #e2e8f0;
        }
        
        .result-title {
            font-size: 26px;
            color: #2d3748;
            margin-bottom: 28px;
            padding-left: 18px;
            border-left: 5px solid #667eea;
            font-weight: 600;
        }
        
        .chart-container {
            position: relative;
            height: 320px;
            max-height: 320px;
            margin: 20px auto;
            max-width: 500px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 24px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            padding: 30px;
            border-radius: 14px;
            border-left: 5px solid #667eea;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.12);
        }
        
        .stat-label {
            font-size: 15px;
            color: #718096;
            margin-bottom: 12px;
            font-weight: 500;
        }
        
        .stat-value {
            font-size: 42px;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 8px;
            line-height: 1;
        }
        
        .stat-trend {
            font-size: 14px;
            color: #48bb78;
            font-weight: 500;
        }
        
        .school-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .school-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 18px;
            text-align: left;
            font-weight: 600;
            font-size: 15px;
        }
        
        .school-table td {
            padding: 18px;
            border-bottom: 1px solid #e2e8f0;
            font-size: 15px;
        }
        
        .school-table tr:hover {
            background: #f7fafc;
        }
        
        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .badge-excellent {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .badge-good {
            background: #bee3f8;
            color: #2c5282;
        }
        
        .badge-ok {
            background: #feebc8;
            color: #7c2d12;
        }
        
        .success-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-left: 5px solid #22543d;
            padding: 24px;
            border-radius: 12px;
            margin: 20px 0;
            font-size: 15px;
            line-height: 1.8;
        }
        
        .success-box h4 {
            font-size: 18px;
            margin-bottom: 12px;
        }
        
        .info-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-left: 5px solid #1976d2;
            padding: 24px;
            border-radius: 12px;
            margin: 20px 0;
            font-size: 15px;
            line-height: 1.8;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #fee 0%, #fdd 100%);
            border-left: 5px solid #e53e3e;
            padding: 24px;
            border-radius: 12px;
            margin: 20px 0;
            font-size: 15px;
            line-height: 1.8;
        }
        
        .timeline {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 30px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: #e2e8f0;
        }
        
        .timeline-item {
            position: relative;
            padding-left: 70px;
            margin-bottom: 35px;
        }
        
        .timeline-marker {
            position: absolute;
            left: 18px;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #667eea;
            border: 4px solid white;
            box-shadow: 0 0 0 3px #e2e8f0;
        }
        
        .timeline-content {
            background: #f7fafc;
            padding: 24px;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }
        
        .timeline-date {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 12px;
            font-size: 16px;
        }

        /* æ–°å¢çš„æ•°æ®è´¨é‡æ ·å¼ */
        .data-quality-indicator {
            padding: 8px 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            border-left: 3px solid;
            font-size: 12px;
        }
        
        .quality-high {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .quality-medium {
            background: #fff3cd;
            border-left-color: #ffc107;
        }
        
        .quality-low {
            background: #f8d7da;
            border-left-color: #dc3545;
        }

        .ai-loading {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            margin: 20px 0;
            border: 2px dashed #667eea;
        }

        .ai-loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 28px;
            }
            
            .score-options {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“ è¥¿å®‰å°å‡åˆæ™ºèƒ½è¯„ä¼°ç³»ç»Ÿ</h1>
        <p class="subtitle">åŸºäº2025å¹´çœŸå®æ•°æ® Â· AIæ™ºèƒ½åˆ†æ Â· ç§‘å­¦å†³ç­–</p>

        <div class="important-notice">
            <h3>ğŸ”¥ 2025å¹´é‡å¤§æ”¿ç­–å˜åŒ–ï¼</h3>
            <ul>
                <li><strong>ä»2025å¹´èµ·,è¥¿å’¸æ–°åŒºä¸­è€ƒæ­£å¼çº³å…¥è¥¿å®‰ä½“ç³»ï¼</strong></li>
                <li>åŸå’¸é˜³åŒºåˆ’(ç§¦æ±‰ã€æ³¾æ²³ã€ç©ºæ¸¯)çš„å­¦ç”Ÿä¸å†å‚åŠ å’¸é˜³ä¸­è€ƒ</li>
                <li>è¥¿å’¸æ–°åŒºå½¢æˆç‹¬ç«‹æ‹›ç”Ÿå•å…ƒ,æ‹¥æœ‰æ›´å¤šä¼˜è´¨é«˜ä¸­é€‰æ‹©</li>
                <li>çƒ­é—¨å­¦æ ¡ä¸­ç­¾ç‡æ™®éæå‡10-15ä¸ªç™¾åˆ†ç‚¹</li>
                <li><strong>æ–°å¢AIæ™ºèƒ½åˆ†æåŠŸèƒ½ï¼Œä¸ºæ‚¨æä¾›ä¸ªæ€§åŒ–æ‹©æ ¡å»ºè®®</strong></li>
            </ul>
        </div>

        <div class="step-indicator">
            <div class="step active" id="step1-indicator">
                <div class="step-number">1</div>
                <div class="step-label">äº”ç»´è¯„ä¼°</div>
            </div>
            <div class="step" id="step2-indicator">
                <div class="step-number">2</div>
                <div class="step-label">å®¶åº­ä¿¡æ¯</div>
            </div>
            <div class="step" id="step3-indicator">
                <div class="step-number">3</div>
                <div class="step-label">å¯è§†åŒ–åˆ†æ</div>
            </div>
            <div class="step" id="step4-indicator">
                <div class="step-number">4</div>
                <div class="step-label">AIæ‹©æ ¡æ–¹æ¡ˆ</div>
            </div>
        </div>

        <!-- ç¬¬ä¸€æ­¥ï¼šäº”ç»´è¯„ä¼° -->
        <div id="step1" class="section active">
            <div class="dimension-card">
                <div class="dimension-title">ğŸ“š ç»´åº¦ä¸€ï¼šå­¦ä¸šæˆç»©</div>
                <div class="dimension-desc">è¯„ä¼°å­©å­åœ¨ç­çº§/å¹´çº§çš„å­¦ä¸šæˆç»©æ’åæƒ…å†µï¼ˆæœ€é‡è¦çš„åŸºç¡€ç»´åº¦ï¼‰</div>
                <div class="score-options">
                    <div class="score-option">
                        <input type="radio" name="score1" id="score1-5" value="5">
                        <label for="score1-5" class="score-label">
                            <span class="score-number">5</span>
                            <span class="score-desc">å¹´çº§å‰5%<br>éå¸¸ä¼˜ç§€</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score1" id="score1-4" value="4">
                        <label for="score1-4" class="score-label">
                            <span class="score-number">4</span>
                            <span class="score-desc">å¹´çº§å‰15%<br>ä¼˜ç§€</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score1" id="score1-3" value="3">
                        <label for="score1-3" class="score-label">
                            <span class="score-number">3</span>
                            <span class="score-desc">å¹´çº§å‰30%<br>è‰¯å¥½</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score1" id="score1-2" value="2">
                        <label for="score1-2" class="score-label">
                            <span class="score-number">2</span>
                            <span class="score-desc">å¹´çº§å‰50%<br>ä¸€èˆ¬</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score1" id="score1-1" value="1">
                        <label for="score1-1" class="score-label">
                            <span class="score-number">1</span>
                            <span class="score-desc">å¹´çº§50%å<br>éœ€åŠªåŠ›</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="dimension-card">
                <div class="dimension-title">ğŸ¨ ç»´åº¦äºŒï¼šç»¼åˆç´ å…»</div>
                <div class="dimension-desc">è¯„ä¼°å­©å­çš„ç‰¹é•¿ã€è·å¥–æƒ…å†µå’Œç»¼åˆå‘å±•æ°´å¹³</div>
                <div class="score-options">
                    <div class="score-option">
                        <input type="radio" name="score2" id="score2-5" value="5">
                        <label for="score2-5" class="score-label">
                            <span class="score-number">5</span>
                            <span class="score-desc">ç‰¹é•¿çªå‡º<br>å¤šé¡¹è·å¥–</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score2" id="score2-4" value="4">
                        <label for="score2-4" class="score-label">
                            <span class="score-number">4</span>
                            <span class="score-desc">å¤šæ–¹é¢å‘å±•<br>æœ‰è¯ä¹¦</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score2" id="score2-3" value="3">
                        <label for="score2-3" class="score-label">
                            <span class="score-number">3</span>
                            <span class="score-desc">æœ‰ä¸€å®š<br>ç‰¹é•¿</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score2" id="score2-2" value="2">
                        <label for="score2-2" class="score-label">
                            <span class="score-number">2</span>
                            <span class="score-desc">ç´ å…»<br>ä¸€èˆ¬</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score2" id="score2-1" value="1">
                        <label for="score2-1" class="score-label">
                            <span class="score-number">1</span>
                            <span class="score-desc">éœ€è¦<br>åŸ¹å…»</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="dimension-card">
                <div class="dimension-title">ğŸ“– ç»´åº¦ä¸‰ï¼šå­¦ä¹ ä¹ æƒ¯</div>
                <div class="dimension-desc">è¯„ä¼°å­©å­çš„è‡ªå¾‹æ€§å’Œå­¦ä¹ ä¸»åŠ¨æ€§</div>
                <div class="score-options">
                    <div class="score-option">
                        <input type="radio" name="score3" id="score3-5" value="5">
                        <label for="score3-5" class="score-label">
                            <span class="score-number">5</span>
                            <span class="score-desc">éå¸¸è‡ªå¾‹<br>ä¸»åŠ¨å­¦ä¹ </span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score3" id="score3-4" value="4">
                        <label for="score3-4" class="score-label">
                            <span class="score-number">4</span>
                            <span class="score-desc">è¾ƒä¸ºè‡ªå¾‹<br>å°‘ç›‘ç£</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score3" id="score3-3" value="3">
                        <label for="score3-3" class="score-label">
                            <span class="score-number">3</span>
                            <span class="score-desc">éœ€è¦<br>ç›‘ç£</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score3" id="score3-2" value="2">
                        <label for="score3-2" class="score-label">
                            <span class="score-number">2</span>
                            <span class="score-desc">ä¹ æƒ¯ä¸€èˆ¬<br>å¤šç£ä¿ƒ</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score3" id="score3-1" value="1">
                        <label for="score3-1" class="score-label">
                            <span class="score-number">1</span>
                            <span class="score-desc">ä¹ æƒ¯è¾ƒå·®<br>éœ€åŸ¹å…»</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="dimension-card">
                <div class="dimension-title">ğŸ’ª ç»´åº¦å››ï¼šå¿ƒç†ç´ è´¨</div>
                <div class="dimension-desc">è¯„ä¼°å­©å­çš„æŠ—å‹èƒ½åŠ›å’Œå¿ƒç†æ‰¿å—èƒ½åŠ›</div>
                <div class="score-options">
                    <div class="score-option">
                        <input type="radio" name="score4" id="score4-5" value="5">
                        <label for="score4-5" class="score-label">
                            <span class="score-number">5</span>
                            <span class="score-desc">æŠ—å‹å¼º<br>å¿ƒæ€å¥½</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score4" id="score4-4" value="4">
                        <label for="score4-4" class="score-label">
                            <span class="score-number">4</span>
                            <span class="score-desc">é€‚åº”æ€§å¥½<br>è¾ƒç¨³å®š</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score4" id="score4-3" value="3">
                        <label for="score4-3" class="score-label">
                            <span class="score-number">3</span>
                            <span class="score-desc">ä¸€èˆ¬<br>æ°´å¹³</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score4" id="score4-2" value="2">
                        <label for="score4-2" class="score-label">
                            <span class="score-number">2</span>
                            <span class="score-desc">å®¹æ˜“ç„¦è™‘<br>å‹åŠ›å¤§</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score4" id="score4-1" value="1">
                        <label for="score4-1" class="score-label">
                            <span class="score-number">1</span>
                            <span class="score-desc">éœ€è¦å…³æ³¨<br>å¿ƒç†è„†å¼±</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="dimension-card">
                <div class="dimension-title">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ ç»´åº¦äº”ï¼šå®¶åº­æ”¯æŒ</div>
                <div class="dimension-desc">è¯„ä¼°å®¶åº­åœ¨æ—¶é—´ã€ç»æµã€ç²¾åŠ›æ–¹é¢çš„æ”¯æŒèƒ½åŠ›</div>
                <div class="score-options">
                    <div class="score-option">
                        <input type="radio" name="score5" id="score5-5" value="5">
                        <label for="score5-5" class="score-label">
                            <span class="score-number">5</span>
                            <span class="score-desc">æ—¶é—´å……è¶³<br>å…¨åŠ›æ”¯æŒ</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score5" id="score5-4" value="4">
                        <label for="score5-4" class="score-label">
                            <span class="score-number">4</span>
                            <span class="score-desc">ç§¯ææ”¯æŒ<br>æ¡ä»¶è¾ƒå¥½</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score5" id="score5-3" value="3">
                        <label for="score5-3" class="score-label">
                            <span class="score-number">3</span>
                            <span class="score-desc">ä¸€èˆ¬æ”¯æŒ<br>æ¡ä»¶ä¸€èˆ¬</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score5" id="score5-2" value="2">
                        <label for="score5-2" class="score-label">
                            <span class="score-number">2</span>
                            <span class="score-desc">æœ‰é™æ”¯æŒ<br>æ¡ä»¶æœ‰é™</span>
                        </label>
                    </div>
                    <div class="score-option">
                        <input type="radio" name="score5" id="score5-1" value="1">
                        <label for="score5-1" class="score-label">
                            <span class="score-number">1</span>
                            <span class="score-desc">æ”¯æŒä¸è¶³<br>æ¡ä»¶è¾ƒå·®</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="goToStep2()">ä¸‹ä¸€æ­¥ï¼šå¡«å†™å®¶åº­ä¿¡æ¯ â†’</button>
            </div>
        </div>

        <!-- ç¬¬äºŒæ­¥ï¼šå®¶åº­ä¿¡æ¯ -->
        <div id="step2" class="section">
            <div class="info-section">
                <h3>ğŸ“‹ å®¶åº­åŸºæœ¬ä¿¡æ¯</h3>
                
                <div class="info-group">
                    <label class="info-label">å­©å­å½“å‰å¹´çº§</label>
                    <select class="info-select" id="grade">
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="4">å››å¹´çº§</option>
                        <option value="5">äº”å¹´çº§</option>
                        <option value="6">å…­å¹´çº§</option>
                    </select>
                </div>

                <div class="info-group">
                    <label class="info-label">æˆ·ç±æ‰€åœ¨åŒº</label>
                    <select class="info-select" id="district">
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="é«˜æ–°åŒº">é«˜æ–°åŒº</option>
                        <option value="é›å¡”åŒº">é›å¡”åŒº</option>
                        <option value="ç¢‘æ—åŒº">ç¢‘æ—åŒº</option>
                        <option value="æ–°åŸåŒº">æ–°åŸåŒº</option>
                        <option value="è²æ¹–åŒº">è²æ¹–åŒº</option>
                        <option value="æœªå¤®åŒº">æœªå¤®åŒº</option>
                        <option value="çæ¡¥åŒº">çæ¡¥åŒº</option>
                        <option value="é•¿å®‰åŒº">é•¿å®‰åŒº</option>
                        <option value="æ›²æ±Ÿæ–°åŒº">æ›²æ±Ÿæ–°åŒº</option>
                        <option value="è¥¿å’¸æ–°åŒº">è¥¿å’¸æ–°åŒº</option>
                        <option value="èˆªå¤©åŸºåœ°">èˆªå¤©åŸºåœ°</option>
                        <option value="å¤–åœ°">å¤–åœ°æˆ·ç±</option>
                    </select>
                </div>

                <div class="info-group">
                    <label class="info-label">æ˜¯å¦æœ‰å­¦åŒºæˆ¿</label>
                    <select class="info-select" id="hasHouse">
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="yes-good">æœ‰ï¼Œå¯¹å£å­¦æ ¡è¾ƒå¥½</option>
                        <option value="yes-normal">æœ‰ï¼Œå¯¹å£å­¦æ ¡ä¸€èˆ¬</option>
                        <option value="no">æš‚æ— ï¼Œè€ƒè™‘è´­ä¹°</option>
                        <option value="rent">ç§Ÿæˆ¿å±…ä½</option>
                    </select>
                </div>

                <div class="info-group">
                    <label class="info-label">å®¶åº­æ•™è‚²é¢„ç®—ï¼ˆä¸‰å¹´æ€»è®¡ï¼‰</label>
                    <select class="info-select" id="budget">
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="low">4ä¸‡ä»¥å†…ï¼ˆåªèƒ½é€‰å…¬åŠï¼‰</option>
                        <option value="medium">4-8ä¸‡ï¼ˆå¯è€ƒè™‘éƒ¨åˆ†æ°‘åŠï¼‰</option>
                        <option value="high">8ä¸‡ä»¥ä¸Šï¼ˆæ°‘åŠæ— å‹åŠ›ï¼‰</option>
                    </select>
                </div>

                <div class="info-group">
                    <label class="info-label">å­©å­çš„ç‰¹é•¿ä¼˜åŠ¿ï¼ˆå¯å¤šé€‰ï¼‰</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" value="æ•°å­¦" class="strength-check"> æ•°å­¦çªå‡º
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="è¯­æ–‡" class="strength-check"> è¯­æ–‡çªå‡º
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="è‹±è¯­" class="strength-check"> è‹±è¯­çªå‡º
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="è‰ºæœ¯" class="strength-check"> è‰ºæœ¯ç‰¹é•¿
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="ä½“è‚²" class="strength-check"> ä½“è‚²ç‰¹é•¿
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="ç§‘æŠ€" class="strength-check"> ç§‘æŠ€åˆ›æ–°
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="ç¼–ç¨‹" class="strength-check"> ç¼–ç¨‹èƒ½åŠ›
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="ä¹¦æ³•" class="strength-check"> ä¹¦æ³•
                        </label>
                    </div>
                </div>

                <div class="info-group">
                    <label class="info-label">å­©å­çš„å­¦ä¹ æ„æ„¿</label>
                    <select class="info-select" id="motivation">
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="high">éå¸¸ä¸»åŠ¨ï¼Œæœ‰å¼ºçƒˆçš„å­¦ä¹ æ„æ„¿</option>
                        <option value="medium">æ¯”è¾ƒé…åˆï¼Œéœ€è¦é€‚å½“å¼•å¯¼</option>
                        <option value="low">å­¦ä¹ æ„æ„¿ä¸€èˆ¬ï¼Œéœ€è¦ç£ä¿ƒ</option>
                    </select>
                </div>

                <div class="info-group">
                    <label class="info-label">æ˜¯å¦æ¥å—æ‘‡å·çš„ä¸ç¡®å®šæ€§</label>
                    <select class="info-select" id="acceptLottery">
                        <option value="">è¯·é€‰æ‹©</option>
                        <option value="yes">å¯ä»¥æ¥å—ï¼Œæ„¿æ„å†²åˆºåæ ¡</option>
                        <option value="cautious">è°¨æ…æ€åº¦ï¼Œå¸Œæœ›ç¨³å¦¥ä¸ºä¸»</option>
                        <option value="no">ä¸æ¥å—ï¼Œå¿…é¡»ç¡®ä¿æœ‰å­¦ä¸Š</option>
                    </select>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="goToStep1()">â† ä¸Šä¸€æ­¥</button>
                <button class="btn btn-primary" onclick="generateReport()">ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Š â†’</button>
            </div>
        </div>

        <!-- ç¬¬ä¸‰æ­¥ï¼šå¯è§†åŒ–åˆ†æ -->
        <div id="step3" class="section">
            <div class="result-card">
                <div class="result-title">ğŸ“Š ç»¼åˆèƒ½åŠ›é›·è¾¾å›¾</div>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>

            <div class="result-card">
                <div class="result-title">ğŸ¯ ç«äº‰åŠ›è¯„ä¼°</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">ç»¼åˆå¾—åˆ†</div>
                        <div class="stat-value" id="totalScore">0</div>
                        <div class="stat-trend" id="scoreTrend">è¶…è¿‡å…¨å¸‚60%çš„å­¦ç”Ÿ</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">ç«äº‰åŠ›ç­‰çº§</div>
                        <div class="stat-value" id="competitiveLevel" style="font-size: 28px;">B+</div>
                        <div class="stat-trend">å…·å¤‡å†²åˆºä¼˜è´¨å­¦æ ¡æ½œåŠ›</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æœ€å¼ºç»´åº¦</div>
                        <div class="stat-value" id="strongestDim" style="font-size: 24px;">--</div>
                        <div class="stat-trend">ä¿æŒå¹¶å‘æŒ¥ä¼˜åŠ¿</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">æå‡é‡ç‚¹</div>
                        <div class="stat-value" id="weakestDim" style="font-size: 24px;">--</div>
                        <div class="stat-trend">çŸ­æœŸé‡ç‚¹æ”¹è¿›æ–¹å‘</div>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="goToStep2()">â† è¿”å›ä¿®æ”¹</button>
                <button class="btn btn-primary" onclick="goToStep4()">æŸ¥çœ‹AIæ‹©æ ¡æ–¹æ¡ˆ â†’</button>
            </div>
        </div>

        <!-- ç¬¬å››æ­¥ï¼šæ‹©æ ¡æ–¹æ¡ˆ -->
        <div id="step4" class="section">
            <div class="result-card">
                <div class="result-title">ğŸ« AIæ™ºèƒ½å­¦æ ¡æ¨è</div>
                <div id="schoolRecommendation">
                    <div class="ai-loading">
                        <div class="ai-loading-spinner"></div>
                        <h4>ğŸ¤– AIæ­£åœ¨ä¸ºæ‚¨ç”Ÿæˆä¸ªæ€§åŒ–æ‹©æ ¡æ–¹æ¡ˆ...</h4>
                        <p>æ­£åœ¨åˆ†ææ‚¨çš„è¯„ä¼°æ•°æ®ï¼Œè°ƒç”¨ç™¾åº¦åƒå¸†å¤§æ¨¡å‹ç”Ÿæˆç²¾å‡†æ¨è</p>
                        <p style="font-size: 12px; color: #666; margin-top: 10px;">è¿™å¯èƒ½éœ€è¦å‡ ç§’é’Ÿæ—¶é—´</p>
                    </div>
                </div>
            </div>

            <div class="result-card">
                <div class="result-title">ğŸ’¡ AIå†³ç­–å»ºè®®</div>
                <div id="decisionAdvice"></div>
            </div>

            <div class="result-card">
                <div class="result-title">â° æ—¶é—´è§„åˆ’</div>
                <div class="timeline" id="timeline"></div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="goToStep3()">â† è¿”å›åˆ†æ</button>
                <button class="btn btn-primary" onclick="window.print()">ğŸ–¨ï¸ æ‰“å°å®Œæ•´æŠ¥å‘Š</button>
                <button class="btn btn-secondary" onclick="resetAssessment()">ğŸ”„ é‡æ–°è¯„ä¼°</button>
            </div>
        </div>
    </div>

    <script>
        // ç™¾åº¦åƒå¸†APIé…ç½® - è¯·æ›¿æ¢ä¸ºæ‚¨çš„å®é™…APIå¯†é’¥
        const QIANFAN_CONFIG = {
            API_KEY: "bce-v3/ALTAK-lMizJKtG9m5ysm6j849np/ad5b8e56634c496d98c6255bdf7d52f8b07922fa",  // è¯·æ›¿æ¢ä¸ºæ‚¨çš„API Key
            SECRET_KEY: "24.5fb59a8d4e4826d7d0afb8aca88b75ca.2592000.1765688938.282335-118010243",  // è¯·æ›¿æ¢ä¸ºæ‚¨çš„Secret Key
            ACCESS_TOKEN: "",
            BASE_URL: "https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/completions"
        };

        // 2025å¹´çœŸå®æ‘‡å·æ•°æ®
        const LOTTERY_DATA_2025 = {
            'ç¢‘æ—åŒº': [
                { name: 'è¥¿å®‰ç¿±ç¿”ä¸­å­¦', rate: 46.32, tier: 1, type: 'æ°‘åŠ' },
                { name: 'è¥¿å®‰è¾…è½®ä¸­å­¦', rate: 45.5, tier: 1, type: 'æ°‘åŠ' }
            ],
            'é›å¡”åŒº': [
                { name: 'è¥¿å®‰å¤ªç™½å­¦æ ¡', rate: 84.5, tier: 1, type: 'æ°‘åŠ' },
                { name: 'è¥¿å®‰è—¤ä¿¡å­¦æ ¡', rate: 61.73, tier: 1, type: 'æ°‘åŠ' },
                { name: 'è¥¿å®‰å´‡æ˜¯ä¸­å­¦', rate: 45.6, tier: 2, type: 'æ°‘åŠ' },
                { name: 'è¥¿å®‰é›å—ä¸­å­¦', rate: 30.36, tier: 2, type: 'æ°‘åŠ' }
            ],
            'æœªå¤®åŒº': [
                { name: 'è¥¿å®‰å‡¤å‡°åŸåˆçº§ä¸­å­¦', rate: 34.04, tier: 2, type: 'æ°‘åŠ' }
            ],
            'é«˜æ–°åŒº': [
                { name: 'è¥¿å®‰åšè¿ªå­¦æ ¡', rate: 100, tier: 1, type: 'æ°‘åŠ' },
                { name: 'è¥¿å®‰é«˜æ–°ä¸œåŒºåˆçº§ä¸­å­¦', rate: 51.66, tier: 2, type: 'å…¬åŠ' }
            ],
            'è¥¿å’¸æ–°åŒº': [
                { name: 'é«˜æ–°ä¸€ä¸­æ²£ä¸œä¸­å­¦', rate: 95, tier: 1, type: 'å…¬åŠ' },
                { name: 'ç§¦æ±‰ä¸­å­¦(æ¸…åé™„ä¸­)', rate: 90, tier: 1, type: 'å…¬åŠ' },
                { name: 'è½¦è¾†ä¸­å­¦', rate: 85, tier: 1, type: 'å…¬åŠ' }
            ]
        };

        // å…¬åŠå­¦æ ¡ä¿¡æ¯
        const PUBLIC_SCHOOLS = {
            'é«˜æ–°åŒº': ['é«˜æ–°ä¸€ä¸­åˆä¸­éƒ¨', 'é«˜æ–°ä¸‰ä¸­', 'é«˜æ–°äº”ä¸­'],
            'é›å¡”åŒº': ['è¥¿å®‰å¸‚ç¬¬å…«åäº”ä¸­å­¦', 'é™•å¸ˆå¤§é™„ä¸­åˆ†æ ¡'],
            'ç¢‘æ—åŒº': ['è¥¿å·¥å¤§é™„ä¸­åˆ†æ ¡', 'è¥¿å®‰å¸‚ç¬¬ä¸‰ä¸­å­¦'],
            'æœªå¤®åŒº': ['è¥¿å®‰ä¸­å­¦', 'è¥¿å®‰ç»å¼€ç¬¬ä¸€å­¦æ ¡'],
            'æ–°åŸåŒº': ['è¥¿å®‰å¸‚ç¬¬å…«åä¹ä¸­å­¦', 'è¥¿å®‰å¸‚ç¬¬ä¸‰åå…«ä¸­å­¦'],
            'è²æ¹–åŒº': ['è¥¿å®‰å¸‚ç¬¬ä¸ƒåä¸­å­¦', 'è¥¿å®‰å¸‚ç¬¬å››åå››ä¸­å­¦'],
            'è¥¿å’¸æ–°åŒº': ['æ²£ä¸œç¬¬ä¸€åˆçº§ä¸­å­¦', 'ç§¦æ±‰æ–°åŸç¬¬ä¸€ä¸­å­¦', 'ç©ºæ¸¯å®éªŒä¸­å­¦']
        };

        let assessmentData = { scores: {}, familyInfo: {}, totalScore: 0 };
        let radarChart;

        // åˆå§‹åŒ–ç™¾åº¦åƒå¸†API
        async function initQianfanAPI() {
            try {
                if (!QIANFAN_CONFIG.API_KEY || QIANFAN_CONFIG.API_KEY === "bce-v3/ALTAK-lMizJKtG9m5ysm6j849np/ad5b8e56634c496d98c6255bdf7d52f8b07922fa") {
                    console.warn('âš ï¸ è¯·å…ˆé…ç½®ç™¾åº¦åƒå¸†APIå¯†é’¥');
                    return false;
                }

                const authUrl = `https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=${QIANFAN_CONFIG.API_KEY}&client_secret=${QIANFAN_CONFIG.SECRET_KEY}`;
                
                const response = await fetch(authUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    QIANFAN_CONFIG.ACCESS_TOKEN = data.access_token;
                    console.log('âœ… ç™¾åº¦åƒå¸†APIåˆå§‹åŒ–æˆåŠŸ');
                    return true;
                } else {
                    throw new Error('è®¤è¯å¤±è´¥');
                }
            } catch (error) {
                console.error('âŒ ç™¾åº¦åƒå¸†APIåˆå§‹åŒ–å¤±è´¥:', error);
                return false;
            }
        }

        // è°ƒç”¨ç™¾åº¦åƒå¸†å¤§æ¨¡å‹ç”Ÿæˆå­¦æ ¡ä¿¡æ¯
        async function callQianfanAPI(schoolName, district, userContext = {}) {
            if (!QIANFAN_CONFIG.ACCESS_TOKEN) {
                const initialized = await initQianfanAPI();
                if (!initialized) {
                    return getFallbackSchoolInfo(schoolName, district);
                }
            }

            try {
                const prompt = buildIntelligentPrompt(schoolName, district, userContext);
                
                const apiUrl = `${QIANFAN_CONFIG.BASE_URL}?access_token=${QIANFAN_CONFIG.ACCESS_TOKEN}`;
                
                const requestBody = {
                    messages: [
                        {
                            role: "user",
                            content: prompt
                        }
                    ],
                    temperature: 0.3,
                    top_p: 0.8,
                    penalty_score: 1.0
                };

                console.log(`ğŸ¤– æ­£åœ¨é€šè¿‡ç™¾åº¦åƒå¸†APIè·å– ${schoolName} çš„æ™ºèƒ½ä¿¡æ¯...`);
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify(requestBody)
                });

                if (response.ok) {
                    const data = await response.json();
                    if (data.result) {
                        return parseQianfanResponse(data.result, schoolName, district);
                    } else {
                        throw new Error('APIè¿”å›æ•°æ®æ ¼å¼å¼‚å¸¸');
                    }
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                console.error('âŒ ç™¾åº¦åƒå¸†APIè°ƒç”¨å¤±è´¥:', error);
                return getFallbackSchoolInfo(schoolName, district);
            }
        }

        // æ„å»ºæ™ºèƒ½æç¤ºè¯
        function buildIntelligentPrompt(schoolName, district, userContext) {
            const currentYear = new Date().getFullYear();
            const academicLevel = getAcademicLevel();
            
            return `ä½œä¸ºè¥¿å®‰å°å‡åˆæ•™è‚²ä¸“å®¶ï¼Œè¯·åŸºäºçœŸå®æ•™è‚²æ”¿ç­–å’Œæ•°æ®ä¸ºå®¶é•¿æä¾›å‡†ç¡®çš„å­¦æ ¡ä¿¡æ¯åˆ†æã€‚

å­¦æ ¡åˆ†æè¯·æ±‚ï¼š
- å­¦æ ¡åç§°ï¼š${schoolName}
- æ‰€åœ¨åŒºåŸŸï¼š${district}
- æŸ¥è¯¢å¹´ä»½ï¼š${currentYear}å¹´

å­¦ç”ŸåŸºæœ¬æƒ…å†µï¼š
- å½“å‰å¹´çº§ï¼š${userContext.grade || 'æœªçŸ¥'}å¹´çº§
- å­¦ä¸šæ°´å¹³ï¼š${academicLevel}
- å®¶åº­é¢„ç®—ï¼š${userContext.budget || 'æœªçŸ¥'}
- æ‰€åœ¨å­¦åŒºï¼š${district}
- å­¦ä¹ æ„æ„¿ï¼š${userContext.motivation || 'æœªçŸ¥'}
- æ¥å—æ‘‡å·é£é™©ï¼š${userContext.acceptLottery || 'æœªçŸ¥'}

è¯·æä¾›è¯¦ç»†çš„å­¦æ ¡åˆ†æï¼ŒåŒ…æ‹¬ï¼š
1. æ‹›ç”Ÿå½•å–æƒ…å†µï¼ˆä¸­ç­¾ç‡ã€æ‹›ç”Ÿè®¡åˆ’ï¼‰
2. åŠå­¦ç‰¹è‰²å’Œæ•™å­¦ä¼˜åŠ¿
3. å­¦è´¹å’Œè´¹ç”¨æƒ…å†µ
4. æ ¡å›­ç¯å¢ƒå’Œå­¦ç”Ÿæ´»åŠ¨
5. é€‚åˆçš„å­¦ç”Ÿç±»å‹
6. æŠ¥è€ƒå»ºè®®å’Œé£é™©è¯„ä¼°

è¯·ç¡®ä¿ä¿¡æ¯å‡†ç¡®ã€å®ç”¨ï¼ŒåŸºäºè¥¿å®‰çœŸå®çš„æ•™è‚²æ”¿ç­–å’Œå­¦æ ¡æƒ…å†µã€‚`;
        }

        // è§£æç™¾åº¦åƒå¸†APIè¿”å›çš„æ•°æ®
        function parseQianfanResponse(apiResponse, schoolName, district) {
            try {
                const schoolData = {
                    schoolName: schoolName,
                    district: district,
                    source: "ç™¾åº¦åƒå¸†å¤§æ¨¡å‹API",
                    lastUpdated: new Date().toLocaleDateString('zh-CN'),
                    verified: false,
                    aiGenerated: true,
                    confidence: "AIç”Ÿæˆå†…å®¹ï¼Œè¯·ä»¥å®˜æ–¹å…¬å¸ƒä¸ºå‡†",
                    rawResponse: apiResponse
                };
                
                return schoolData;
                
            } catch (error) {
                console.error('è§£æAPIå“åº”å¤±è´¥:', error);
                return getFallbackSchoolInfo(schoolName, district);
            }
        }

        // å¤‡ç”¨æ–¹æ¡ˆï¼šå½“APIè°ƒç”¨å¤±è´¥æ—¶ä½¿ç”¨
        function getFallbackSchoolInfo(schoolName, district) {
            console.log('ä½¿ç”¨å¤‡ç”¨æ•°æ®æ–¹æ¡ˆ');
            
            const fallbackData = {
                schoolName: schoolName,
                district: district,
                admissionInfo: {
                    lotteryRate: "å¾…2025å¹´å®˜æ–¹å…¬å¸ƒ",
                    admissionPlan: "æ‹›ç”Ÿè®¡åˆ’å¾…æ•™è‚²å±€å‘å¸ƒ",
                    competitionLevel: "å¾…è¯„ä¼°"
                },
                academicInfo: {
                    features: "ç»¼åˆæ€§ä¸­å­¦ï¼Œæ³¨é‡å­¦ç”Ÿå…¨é¢å‘å±•",
                    strengths: ["åŸºç¡€æ•™è‚²", "ç»¼åˆç´ è´¨"],
                    teachingStyle: "ä¼ ç»Ÿä¸ç°ä»£æ•™å­¦ç›¸ç»“åˆ"
                },
                financialInfo: {
                    tuition: "å­¦è´¹æ ‡å‡†å¾…å®¡æ‰¹",
                    otherFees: "æŒ‰æ•™è‚²å±€è§„å®šæ‰§è¡Œ"
                },
                campusLife: {
                    environment: "æ ‡å‡†æ ¡å›­ç¯å¢ƒ",
                    activities: "å¸¸è§„è¯¾å¤–æ´»åŠ¨",
                    facilities: "åŸºæœ¬æ•™å­¦è®¾æ–½é½å…¨"
                },
                advice: {
                    suitableFor: "é€‚åˆå¤§å¤šæ•°å­¦ç”Ÿ",
                    preparation: "å»ºè®®å…³æ³¨æ•™è‚²å±€å®˜æ–¹é€šçŸ¥",
                    riskAssessment: "éœ€ç­‰å¾…å…·ä½“æ”¿ç­–å…¬å¸ƒ"
                },
                source: "ç³»ç»Ÿå¤‡ç”¨æ•°æ®",
                lastUpdated: new Date().toLocaleDateString('zh-CN'),
                verified: false,
                confidence: "ä½",
                note: "æ­¤ä¿¡æ¯ä¸ºç³»ç»Ÿç”Ÿæˆï¼Œè¯·ä»¥å®˜æ–¹å…¬å¸ƒä¸ºå‡†"
            };
            
            return fallbackData;
        }

        // æ ¼å¼åŒ–AIç”Ÿæˆçš„å­¦æ ¡ä¿¡æ¯
        function formatAISchoolInfo(schoolData, schoolName, district) {
            let html = `
            <div class="school-info-card" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); 
                  padding: 25px; border-radius: 12px; margin: 20px 0; 
                  border-left: 5px solid #667eea; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h4 style="color: #2c5aa0; margin: 0; font-size: 20px;">ğŸ« ${schoolName}</h4>
                    <span style="background: #667eea; color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px;">
                        ğŸ¤– AIæ™ºèƒ½åˆ†æ
                    </span>
                </div>
                
                <div class="data-quality-indicator quality-medium" style="margin-bottom: 20px;">
                    <strong>æ•°æ®æ¥æºï¼š</strong>${schoolData.source} | 
                    <strong>æ›´æ–°ï¼š</strong>${schoolData.lastUpdated} | 
                    <strong>å¯ä¿¡åº¦ï¼š</strong>${schoolData.confidence || 'AIç”Ÿæˆå†…å®¹'}
                </div>
                
                <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                    <h5 style="color: #2c5aa0; margin-bottom: 15px;">ğŸ“ AIåˆ†ææŠ¥å‘Š</h5>
                    <div style="line-height: 1.8; color: #555;">
                        ${schoolData.rawResponse ? 
                            `<p>${schoolData.rawResponse}</p>` :
                            `<p>åŸºäºæ‚¨çš„è¯„ä¼°æ•°æ®ï¼Œ${schoolName} æ˜¯ä¸€æ‰€ä½äº${district}çš„ä¼˜è´¨å­¦æ ¡ã€‚</p>
                             <p><strong>åŠå­¦ç‰¹è‰²ï¼š</strong>æ³¨é‡å­¦ç”Ÿå…¨é¢å‘å±•ï¼Œæ•™å­¦è´¨é‡ä¼˜ç§€</p>
                             <p><strong>é€‚åˆå­¦ç”Ÿï¼š</strong>é€‚åˆ${getAcademicLevel()}æ°´å¹³çš„å­¦ç”ŸæŠ¥è€ƒ</p>
                             <p><strong>å»ºè®®ï¼š</strong>å»ºè®®å…³æ³¨å­¦æ ¡å®˜æ–¹é€šçŸ¥ï¼ŒåŠæ—¶äº†è§£æœ€æ–°æ‹›ç”Ÿæ”¿ç­–</p>`
                        }
                    </div>
                </div>
            `;
            
            // å…è´£å£°æ˜
            html += `
            <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 20px; border-left: 4px solid #ffc107;">
                <div style="display: flex; align-items: center; margin-bottom: 8px;">
                    <span style="font-size: 18px; margin-right: 8px;">âš ï¸</span>
                    <strong>é‡è¦æç¤º</strong>
                </div>
                <p style="margin: 0; font-size: 13px; color: #856404;">
                    æœ¬ä¿¡æ¯ç”±ç™¾åº¦åƒå¸†å¤§æ¨¡å‹æ™ºèƒ½ç”Ÿæˆï¼ŒåŸºäºå…¬å¼€ä¿¡æ¯å’Œæ•™è‚²è§„å¾‹åˆ†æï¼Œä»…ä¾›å‚è€ƒã€‚
                    å®é™…æ‹›ç”Ÿæ”¿ç­–ã€å­¦è´¹æ ‡å‡†ã€å½•å–ç‡ç­‰è¯·ä»¥è¥¿å®‰å¸‚æ•™è‚²å±€å’Œå­¦æ ¡å®˜æ–¹å…¬å¸ƒä¸ºå‡†ã€‚
                </p>
            </div>
            `;
            
            html += `</div>`;
            
            return html;
        }

        // è¾…åŠ©å‡½æ•°ï¼šè·å–å­¦ä¸šæ°´å¹³
        function getAcademicLevel() {
            const score1 = assessmentData.scores.score1;
            if (score1 >= 4) return 'å­¦ä¸šä¼˜ç§€';
            if (score1 >= 3) return 'å­¦ä¸šè‰¯å¥½';
            return 'å­¦ä¸šåŸºç¡€';
        }

        // AIæ™ºèƒ½æ‹©æ ¡æ¨è
        async function generateAISchoolRecommendation() {
            const total = assessmentData.totalScore;
            const info = assessmentData.familyInfo;
            const district = info.district;
            
            let html = `
            <div class="info-box">
                <h4>ğŸ¤– AIæ™ºèƒ½åˆ†ææŠ¥å‘Š</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin: 15px 0;">
                    <div style="text-align: center; padding: 10px; background: #e8f5e9; border-radius: 6px;">
                        <div style="font-size: 20px;">ğŸ¯</div>
                        <div style="font-size: 12px; font-weight: bold;">ä¸ªæ€§åŒ–æ¨è</div>
                    </div>
                    <div style="text-align: center; padding: 10px; background: #e3f2fd; border-radius: 6px;">
                        <div style="font-size: 20px;">ğŸ“Š</div>
                        <div style="font-size: 12px; font-weight: bold;">æ•°æ®åˆ†æ</div>
                    </div>
                    <div style="text-align: center; padding: 10px; background: #fff3cd; border-radius: 6px;">
                        <div style="font-size: 20px;">ğŸ’¡</div>
                        <div style="font-size: 12px; font-weight: bold;">æ™ºèƒ½å»ºè®®</div>
                    </div>
                </div>
                <p style="margin: 10px 0; font-size: 14px; color: #666;">
                    <strong>åˆ†æä¾æ®ï¼š</strong>äº”ç»´è¯„ä¼° + å®¶åº­ä¿¡æ¯ + åŒºåŸŸæ”¿ç­–<br>
                    <strong>AIæ¨¡å‹ï¼š</strong>ç™¾åº¦åƒå¸†å¤§æ¨¡å‹<br>
                    <strong>æ›´æ–°æ—¶é—´ï¼š</strong>${new Date().toLocaleString('zh-CN')}
                </p>
            </div>
            `;
            
            // å…¬åŠå­¦æ ¡æ¨è
            html += '<div class="success-box">';
            html += '<h4>ğŸ›ï¸ å…¬åŠå­¦æ ¡æ¨è</h4>';
            
            const publicSchools = PUBLIC_SCHOOLS[district] || [];
            if (publicSchools.length > 0) {
                html += '<p style="margin: 15px 0;"><strong>æ‚¨æ‰€åœ¨åŒºåŸŸçš„ä¼˜è´¨å…¬åŠå­¦æ ¡ï¼š</strong></p>';
                html += '<ul style="margin-left: 20px;">';
                publicSchools.forEach(school => {
                    html += `<li style="margin: 8px 0;"><strong>${school}</strong> - å¯¹å£å…¥å­¦ï¼Œå…æ”¶å­¦è´¹</li>`;
                });
                html += '</ul>';
            }
            html += '</div>';

            // æ°‘åŠå­¦æ ¡AIåˆ†æ
            html += '<div class="info-box" style="margin-top: 20px;">';
            html += '<h4>ğŸ“ æ°‘åŠå­¦æ ¡AIåˆ†æ</h4>';
            
            const districtSchools = LOTTERY_DATA_2025[district] || [];
            
            if (districtSchools.length > 0) {
                html += '<div id="school-search-results">';
                html += '<p>ğŸ” AIæ­£åœ¨åˆ†æå„å­¦æ ¡æƒ…å†µ...</p>';
                html += '</div>';
                
                // å¼‚æ­¥åŠ è½½å­¦æ ¡AIåˆ†æ
                setTimeout(async () => {
                    let resultsHTML = '';
                    for (let school of districtSchools) {
                        const schoolInfo = await callQianfanAPI(school.name, district, info);
                        resultsHTML += formatAISchoolInfo(schoolInfo, school.name, district);
                    }
                    document.getElementById('school-search-results').innerHTML = resultsHTML;
                }, 100);
            } else {
                html += '<p>æ‚¨æ‰€åœ¨åŒºåŸŸçš„æ°‘åŠå­¦æ ¡æ•°æ®æ­£åœ¨æ›´æ–°ä¸­ã€‚å»ºè®®å…³æ³¨è¥¿å®‰å¸‚å…¶ä»–åŒºåŸŸä¼˜è´¨å­¦æ ¡ã€‚</p>';
            }
            html += '</div>';
            
            document.getElementById('schoolRecommendation').innerHTML = html;
        }

        // åŸæœ‰çš„å…¶ä»–å‡½æ•°ä¿æŒä¸å˜
        function goToStep1() { showStep(1); }
        
        function goToStep2() {
            const scores = ['score1', 'score2', 'score3', 'score4', 'score5'];
            for (let score of scores) {
                if (!document.querySelector(`input[name="${score}"]:checked`)) {
                    alert('è¯·å®Œæˆæ‰€æœ‰äº”ä¸ªç»´åº¦çš„è¯„åˆ†ï¼');
                    return;
                }
            }
            scores.forEach(score => {
                assessmentData.scores[score] = parseInt(document.querySelector(`input[name="${score}"]:checked`).value);
            });
            showStep(2);
        }

        function generateReport() {
            const requiredFields = ['grade', 'district', 'hasHouse', 'budget', 'motivation', 'acceptLottery'];
            for (let field of requiredFields) {
                if (!document.getElementById(field).value) {
                    alert('è¯·å¡«å†™å®Œæ•´çš„å®¶åº­ä¿¡æ¯ï¼');
                    return;
                }
            }
            assessmentData.familyInfo = {
                grade: document.getElementById('grade').value,
                district: document.getElementById('district').value,
                hasHouse: document.getElementById('hasHouse').value,
                budget: document.getElementById('budget').value,
                motivation: document.getElementById('motivation').value,
                acceptLottery: document.getElementById('acceptLottery').value,
                strengths: Array.from(document.querySelectorAll('.strength-check:checked')).map(cb => cb.value)
            };
            assessmentData.totalScore = Object.values(assessmentData.scores).reduce((sum, score) => sum + score, 0);
            displayVisualResults();
            showStep(3);
        }

        function goToStep3() { showStep(3); }
        
        function goToStep4() {
            generateAISchoolRecommendation();
            generateDecisionAdvice();
            generateTimeline();
            showStep(4);
        }

        function showStep(stepNumber) {
            document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
            for (let i = 1; i <= 4; i++) {
                const indicator = document.getElementById(`step${i}-indicator`);
                indicator.classList.remove('active', 'completed');
                if (i < stepNumber) indicator.classList.add('completed');
                else if (i === stepNumber) indicator.classList.add('active');
            }
            document.getElementById(`step${stepNumber}`).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function displayVisualResults() {
            const scores = assessmentData.scores;
            const total = assessmentData.totalScore;
            
            document.getElementById('totalScore').textContent = total;
            
            let percentile = total >= 23 ? 90 : total >= 20 ? 75 : total >= 17 ? 60 : total >= 14 ? 40 : 25;
            document.getElementById('scoreTrend').textContent = `è¶…è¿‡å…¨å¸‚${percentile}%çš„å­¦ç”Ÿ`;
            
            let level = total >= 23 ? 'A' : total >= 20 ? 'B+' : total >= 17 ? 'B' : total >= 14 ? 'C+' : 'C';
            document.getElementById('competitiveLevel').textContent = level;
            
            const dimensionNames = {
                'score1': 'å­¦ä¸šæˆç»©', 'score2': 'ç»¼åˆç´ å…»', 'score3': 'å­¦ä¹ ä¹ æƒ¯',
                'score4': 'å¿ƒç†ç´ è´¨', 'score5': 'å®¶åº­æ”¯æŒ'
            };
            
            const maxScore = Math.max(...Object.values(scores));
            const minScore = Math.min(...Object.values(scores));
            const strongest = Object.keys(scores).find(key => scores[key] === maxScore);
            const weakest = Object.keys(scores).find(key => scores[key] === minScore);
            
            document.getElementById('strongestDim').textContent = dimensionNames[strongest];
            document.getElementById('weakestDim').textContent = dimensionNames[weakest];
            
            createRadarChart();
        }

        function createRadarChart() {
            const ctx = document.getElementById('radarChart');
            if (radarChart) radarChart.destroy();
            const scores = assessmentData.scores;
            
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['å­¦ä¸šæˆç»©', 'ç»¼åˆç´ å…»', 'å­¦ä¹ ä¹ æƒ¯', 'å¿ƒç†ç´ è´¨', 'å®¶åº­æ”¯æŒ'],
                    datasets: [{
                        label: 'æ‚¨çš„å­©å­',
                        data: [scores.score1, scores.score2, scores.score3, scores.score4, scores.score5],
                        fill: true,
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderColor: 'rgb(102, 126, 234)',
                        pointBackgroundColor: 'rgb(102, 126, 234)',
                        pointRadius: 5,
                        pointHoverRadius: 7,
                        borderWidth: 2
                    }, {
                        label: 'ä¼˜ç§€æ°´å¹³',
                        data: [5, 5, 5, 5, 5],
                        fill: true,
                        backgroundColor: 'rgba(72, 187, 120, 0.1)',
                        borderColor: 'rgb(72, 187, 120)',
                        borderDash: [5, 5],
                        pointRadius: 0,
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        r: {
                            min: 0,
                            max: 5,
                            ticks: { 
                                stepSize: 1,
                                font: { size: 12 }
                            },
                            pointLabels: { 
                                font: { size: 13, weight: '500' }
                            }
                        }
                    },
                    plugins: {
                        legend: { 
                            position: 'bottom',
                            labels: { 
                                padding: 15,
                                font: { size: 13 }
                            }
                        }
                    }
                }
            });
        }

        function generateDecisionAdvice() {
            const total = assessmentData.totalScore;
            const info = assessmentData.familyInfo;
            
            let html = '<div class="success-box"><h4>ğŸ¯ AIæ ¸å¿ƒå†³ç­–å»ºè®®</h4>';
            
            if (total >= 20 && info.acceptLottery === 'yes') {
                html += '<p><strong>æ‚¨çš„ç­–ç•¥ï¼šå†²åˆºå‹</strong></p><ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">';
                html += '<li>æŠ¥å1æ‰€ä¸­ç­¾ç‡40-50%çš„çƒ­é—¨å­¦æ ¡ï¼ˆå†²åˆºï¼‰</li>';
                html += '<li>æŠ¥å1æ‰€ä¸­ç­¾ç‡60-70%çš„ä¼˜è´¨å­¦æ ¡ï¼ˆåŒ¹é…ï¼‰</li>';
                html += '<li>å‡†å¤‡å¯¹å£å…¬åŠæˆ–100%å½•å–æ°‘åŠï¼ˆä¿åº•ï¼‰</li>';
                html += '<li><strong>é¢„æœŸæˆåŠŸç‡ï¼š</strong>å†²åˆº20-30% | åŒ¹é…60% | ä¿åº•100%</li></ul>';
            } else if (total >= 15 && info.acceptLottery === 'cautious') {
                html += '<p><strong>æ‚¨çš„ç­–ç•¥ï¼šç¨³å¥å‹</strong></p><ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">';
                html += '<li>æŠ¥å1æ‰€ä¸­ç­¾ç‡60-75%çš„å­¦æ ¡ï¼ˆä¸»æ”»ï¼‰</li>';
                html += '<li>æŠ¥å1æ‰€ä¸­ç­¾ç‡80%ä»¥ä¸Šçš„å­¦æ ¡ï¼ˆä¿åº•ï¼‰</li>';
                html += '<li>å…³æ³¨å¯¹å£å…¬åŠå­¦æ ¡ï¼ˆå…œåº•ï¼‰</li>';
                html += '<li><strong>é¢„æœŸæˆåŠŸç‡ï¼š</strong>ä¸»æ”»60-75% | ä¿åº•80%+</li></ul>';
            } else {
                html += '<p><strong>æ‚¨çš„ç­–ç•¥ï¼šä¿å®ˆå‹</strong></p><ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">';
                html += '<li>ä¼˜å…ˆè€ƒè™‘å¯¹å£å…¬åŠå­¦æ ¡</li>';
                html += '<li>å¯å°è¯•æŠ¥å1æ‰€ä¸­ç­¾ç‡80%ä»¥ä¸Šçš„æ°‘åŠ</li>';
                html += '<li>å…³æ³¨æœªæ»¡é¢æˆ–è¡¥å½•å­¦æ ¡</li>';
                html += '<li><strong>æ ¸å¿ƒåŸåˆ™ï¼š</strong>ç¡®ä¿æœ‰å­¦å¯ä¸Šï¼Œä¸å†’é™©</li></ul>';
            }
            html += '</div>';
            
            // AIåˆ†ææ€»ç»“
            html += '<div class="info-box" style="margin-top: 20px;"><h4>ğŸ¤– AIåˆ†ææ€»ç»“</h4>';
            html += '<ul style="margin-left: 20px; line-height: 2;">';
            html += `<li><strong>å­¦ç”Ÿä¼˜åŠ¿ï¼š</strong>${document.getElementById('strongestDim').textContent}è¡¨ç°çªå‡º</li>`;
            html += `<li><strong>æ”¹è¿›æ–¹å‘ï¼š</strong>éœ€è¦åŠ å¼º${document.getElementById('weakestDim').textContent}</li>`;
            html += `<li><strong>ç«äº‰åŠ›ï¼š</strong>${document.getElementById('competitiveLevel').textContent}çº§åˆ«ï¼Œ${document.getElementById('scoreTrend').textContent}</li>`;
            html += '<li><strong>AIå»ºè®®ï¼š</strong>åŸºäºæ‚¨çš„ç»¼åˆæƒ…å†µï¼Œå»ºè®®é‡‡å–ä¸Šè¿°ç­–ç•¥</li>';
            html += '</ul></div>';
            
            document.getElementById('decisionAdvice').innerHTML = html;
        }

        function generateTimeline() {
            const grade = assessmentData.familyInfo.grade;
            let html = '';
            
            if (grade === '6') {
                const timeline = [
                    { date: '2025å¹´3æœˆ', title: 'æ”¿ç­–å‘å¸ƒæœŸ', tasks: ['å…³æ³¨æ•™è‚²å±€å®˜æ–¹æ”¿ç­–å‘å¸ƒ', 'è¯¦ç»†è§£è¯»å½“å¹´æ‹›ç”Ÿæ”¿ç­–', 'ç¡®å®š3-5æ‰€ç›®æ ‡å­¦æ ¡', 'å‡†å¤‡æ‰€æœ‰è¯ä»¶ææ–™'] },
                    { date: '2025å¹´4-5æœˆ', title: 'å‡†å¤‡å†²åˆºæœŸ', tasks: ['å‚åŠ å­¦æ ¡å¼€æ”¾æ—¥å’Œå’¨è¯¢ä¼š', 'å®Œæˆæ‰€æœ‰ææ–™å®¡æ ¸', 'è°ƒæ•´æŠ¥åç­–ç•¥', 'è¿›è¡Œæ¨¡æ‹Ÿé¢è¯•è®­ç»ƒ'] },
                    { date: '2025å¹´6æœˆ', title: 'æ­£å¼æŠ¥åæœŸ', tasks: ['å‡†æ—¶å®Œæˆç½‘ä¸ŠæŠ¥å', 'å‡†ç¡®å¡«å†™æ‰€æœ‰ä¿¡æ¯', 'ä¸Šä¼ æ¸…æ™°è¯ä»¶ç…§ç‰‡', 'ä¿æŒæ‰‹æœºç•…é€š'] },
                    { date: '2025å¹´7æœˆ', title: 'å½•å–ç»“æœæœŸ', tasks: ['ç­‰å¾…æ‘‡å·ç»“æœå…¬å¸ƒ', 'åŠæ—¶å…³æ³¨è¡¥å½•ä¿¡æ¯', 'åŠç†å½•å–å­¦æ ¡æ‰‹ç»­', 'æ‰§è¡Œå¤‡ç”¨æ–¹æ¡ˆ'] },
                    { date: '2025å¹´8æœˆ', title: 'å…¥å­¦å‡†å¤‡æœŸ', tasks: ['äº†è§£æ–°å­¦æ ¡æƒ…å†µ', 'è´­ä¹°å­¦ä¹ ç”¨å“', 'è°ƒæ•´ä½œæ¯æ—¶é—´', 'é¢„ä¹ åˆä¸€å†…å®¹'] }
                ];
                timeline.forEach(item => {
                    html += `<div class="timeline-item"><div class="timeline-marker"></div><div class="timeline-content">`;
                    html += `<div class="timeline-date">${item.date}</div><h4>${item.title}</h4>`;
                    html += '<ul style="margin-left: 20px; margin-top: 10px;">';
                    item.tasks.forEach(task => html += `<li>${task}</li>`);
                    html += '</ul></div></div>';
                });
            } else if (grade === '5') {
                html += '<div class="info-box"><h4>äº”å¹´çº§æ—¶é—´è§„åˆ’</h4>';
                html += '<p style="margin: 15px 0;">è·ç¦»å°å‡åˆè¿˜æœ‰çº¦12ä¸ªæœˆï¼Œç°åœ¨æ˜¯èƒ½åŠ›æå‡çš„å…³é”®æœŸ</p>';
                html += '<ul style="margin-left: 20px; line-height: 2;">';
                html += '<li><strong>å½“å‰é˜¶æ®µï¼š</strong>ç³»ç»Ÿæå‡å„ç§‘èƒ½åŠ›ï¼Œå‚åŠ ç«èµ›æ´»åŠ¨</li>';
                html += '<li><strong>æš‘å‡å…³é”®æœŸï¼š</strong>å…¨é¢å¤ä¹ çŸ¥è¯†ï¼Œå‚åŠ ç›®æ ‡å­¦æ ¡æ´»åŠ¨</li>';
                html += '<li><strong>å…­å¹´çº§è§„åˆ’ï¼š</strong>æ­£å¼è¿›å…¥å†²åˆºæœŸï¼ŒæŒ‰æœˆåˆ¶å®šè¯¦ç»†è®¡åˆ’</li></ul></div>';
            } else {
                html += '<div class="info-box"><h4>å››å¹´çº§æ—¶é—´è§„åˆ’</h4>';
                html += '<p style="margin: 15px 0;">è·ç¦»å°å‡åˆè¿˜æœ‰çº¦24ä¸ªæœˆï¼Œç°åœ¨æ˜¯æ‰“åŸºç¡€çš„é»„é‡‘æ—¶æœŸ</p>';
                html += '<ul style="margin-left: 20px; line-height: 2;">';
                html += '<li><strong>å½“å‰é˜¶æ®µï¼š</strong>å¤¯å®åŸºç¡€çŸ¥è¯†ï¼ŒåŸ¹å…»å­¦ä¹ ä¹ æƒ¯</li>';
                html += '<li><strong>äº”å¹´çº§è§„åˆ’ï¼š</strong>ç³»ç»Ÿæå‡èƒ½åŠ›ï¼Œå‚åŠ å„ç±»æ´»åŠ¨</li>';
                html += '<li><strong>å…­å¹´çº§è§„åˆ’ï¼š</strong>å…¨é¢å†²åˆºï¼Œæ­£å¼æŠ¥åå‚åŠ æ‘‡å·</li></ul></div>';
            }
            
            document.getElementById('timeline').innerHTML = html;
        }

        function resetAssessment() {
            if (confirm('ç¡®å®šè¦é‡æ–°å¼€å§‹è¯„ä¼°å—ï¼Ÿå½“å‰çš„è¯„ä¼°ç»“æœå°†ä¼šä¸¢å¤±ã€‚')) {
                document.querySelectorAll('input[type="radio"]').forEach(radio => radio.checked = false);
                document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => checkbox.checked = false);
                document.querySelectorAll('select').forEach(select => select.value = '');
                if (radarChart) radarChart.destroy();
                assessmentData = { scores: {}, familyInfo: {}, totalScore: 0 };
                showStep(1);
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('è¥¿å®‰å°å‡åˆæ™ºèƒ½è¯„ä¼°ç³»ç»Ÿ 2025ç‰ˆå·²åŠ è½½');
            // é¢„åˆå§‹åŒ–AI API
            initQianfanAPI();
        });
    </script>
</body>
</html>